<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">

<head>
	<meta charset="UTF-8">
	<title>シフト一覧（表形式）</title>
	<link rel="stylesheet" th:href="@{/css/shift.css}">
</head>

<body>

	<h1 th:text="${targetYear} + '年 ' + ${targetMonth} + '月 シフト表'"></h1>

	<a class="btn btn-primary" th:href="@{/shift/form}">シフト登録</a>
	
	<div class="table-wrapper">
		<table>
			<thead>
				<tr>
					<th class="sticky-col">スタッフ名</th>
					<th th:each="day : ${days}" th:text="${day.dayOfMonth}" class="date-header">
					</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="entry : ${shiftMatrix}">
					<!-- スタッフ名 -->
					<td class="sticky-col" th:text="${entry.key != null ? entry.key.user_name : 'スタッフ不明'}"></td>

					<!-- 各日のシフト内容 -->
					<td th:each="day : ${days}">
						<span th:with="shift=${entry.value[day]}"
							th:text="${shift != null ? shift.timeSlot + '（' + shift.status + '）' : '未提出'}">
						</span>
					</td>
				</tr>
			</tbody>
		</table>
	</div>

</body>

</html>